<!-- Seventh page of the Kokoa Clone  -->
<!-- 09.png of the screenshots -->
<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Linking with css file and a short cut is link:css -->
  <link rel="stylesheet" href="css/styles.css" />
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Chat with Sophia - to Kokoa Clone</title>
  <style>
    .chat-image {
      display: block;
      max-width: 280px;
      width: 100%;
      height: auto;
      margin-top: 1px;
      margin-bottom: 5px;
      /* 可选：添加上边距以增加图片与文字之间的间距 */
      border-radius: 10px;
    }

  </style>
</head>

<body id="chat-screen">
  <header class="alt-header">
    <div class="alt-header__column">
      <a href="chats.html"><i class="fas fa-angle-left fa-2x"></i></a>
    </div>
    <div class="alt-header__column">
      <div class="alt-header__title">Sophia</div>
    </div>
    <div class="alt-header__column">
      <span><i class="fas fa-search fa-lg"></i></span>
      <span><i class="fas fa-bars fa-lg alt-header__column-icon-last"></i></span>
    </div>
  </header>

  <main class="main-screen main-chat" id="chat-container">
    <div class="chat__timestamp">Friday, August 20, 2021</div>
  </main>

  <form class="reply">
    <div class="reply__column">
      <i class="far fa-plus-square fa-2x"></i>
    </div>
    <div class="reply__column">
      <input type="text" placeholder="Write a message..." />
      <i class="far fa-smile-wink fa-2x"></i>
      <button><i class="fas fa-arrow-up fa-lg"></i></button>
    </div>
  </form>



  <!-- This is needed as it is a key to using icons from fontawesome.com -->
  <script src="./6478f529f2.js" crossorigin="anonymous"></script>
  <script>
    const messages = [
      {
        author: 'Sophia',
        avatar: 'Photos/leo.JPG',
        content: [
          { type: 'image', src: './1.png' },
          { type: 'text', text: 'If you are wondering, I miss you a lot right now.', time: '12:55' },
          { type: 'text', text: 'Do you have more toilet papers? It\'s super fun!', time: '15:20' },
          { type: 'text', text: '🧻 🧻 🧻', time: '15:21' }
        ]
      },
      {
        author: 'own',
        content: [
          { type: 'text', text: 'What?', time: '15:22' },
          { type: 'text', text: 'Please tell me that you didn\'t play with toilet papers again.', time: '15:23' }
        ]
      },
      {
        author: 'Sophia',
        avatar: 'Photos/leo.JPG',
        content: [
          { type: 'text', text: 'Done playing! 🐶' },
          { type: 'text', text: 'Toilet papers always make me happy.', time: '15:35' },
          { type: 'text', text: 'We should do it together sometime.', time: '15:36' },
          { type: 'text', text: 'Shiru seems to be really cranky right now.', time: '18:41' },
          { type: 'text', text: 'Please come home early and play with me.', time: '18:42' }
        ]
      }
    ];

    const chatContainer = document.getElementById('chat-container');

    messages.forEach(message => {
      const messageRow = document.createElement('div');
      messageRow.classList.add('message-row');
      if (message.author === 'own') {
        messageRow.classList.add('message-row--own');
      } else {
        const avatar = document.createElement('img');
        avatar.src = message.avatar;
        avatar.classList.add('avatar');
        messageRow.appendChild(avatar);
      }

      const messageContent = document.createElement('div');
      messageContent.classList.add('message-row__content');

      message.content.forEach(content => {
        const messageInfo = document.createElement('div');
        messageInfo.classList.add('message__info');
        if (message.author === 'own' && content !== message.content[message.content.length - 1]) {
          messageInfo.classList.add('message__info-own-not-end');
        } else if (content !== message.content[message.content.length - 1]) {
          messageInfo.classList.add('message__bubble-not-end');
        }

        if (content.type === 'image') {
          const img = document.createElement('img');
          img.src = content.src;
          img.classList.add('chat-image');
          messageInfo.appendChild(img);
        } else if (content.type === 'text') {
          const messageBubble = document.createElement('span');
          messageBubble.classList.add('message__bubble');
          messageBubble.textContent = content.text;
          messageInfo.appendChild(messageBubble);

          if (content.time) {
            const messageTime = document.createElement('span');
            messageTime.classList.add('message__time');
            messageTime.textContent = content.time;
            messageInfo.appendChild(messageTime);
          }
        }

        messageContent.appendChild(messageInfo);
      });

      messageRow.appendChild(messageContent);
      chatContainer.appendChild(messageRow);
    });
  </script>
</body>

</html>